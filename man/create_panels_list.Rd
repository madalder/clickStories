% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generatePanels.R
\name{create_panels_list}
\alias{create_panels_list}
\title{Generate Panels from CSV/XLSX File with User Prompts for Column Mapping and Embed Support}
\usage{
create_panels_list(data_file, col_mapping = NULL)
}
\arguments{
\item{data_file}{The path to the CSV or XLSX file that contains the panel data.}

\item{col_mapping}{A named list or vector specifying the mapping from required field names
to the column names in your data file. Defaults to the required field names.}
}
\value{
A list of panels, where each panel is a list containing:
\describe{
\item{name}{The panel's name.}
\item{takeaway}{The main takeaway sentence for the panel.}
\item{text}{Additional context or explanations for the panel. If empty or missing, it will be set to an empty string.}
\item{vizType}{The type of visualization to include ("embed", "image-link", "image").}
\item{viz}{The content of the visualization (embed code, external image link, or local image path). Figma design links are transformed to prototype links.}
\item{alt}{Alt text for the visualization, for accessibility purposes.}
}
}
\description{
This function allows the user to generate a list of panels from a CSV or XLSX file.
If the column names in the data file do not match the required fields, the function will prompt the user
to input the correct column names. Additionally, the function supports various visualization types, transforming Figma embeds
to the correct prototype format and handling other iframe-based embeds (e.g., YouTube, Google Maps) without altering them.
}
\details{
This function reads data from a CSV or XLSX file and returns a list of panels
to be used in creating a Quarto Reveal.js presentation. If the required column names
don't match, it prompts the user to provide the correct column names. The function supports
multiple visualization types, including Figma embeds, image links, and other iframe-based embeds.
Figma design links are automatically converted to prototype links with the appropriate parameters.
}
\examples{
\dontrun{
# Example 1: When the column names in the data match the required fields
# Assuming the CSV file has columns named 'name', 'takeaway', 'text', 'vizType', 'viz', 'alt'
panels <- create_panels_list("path/to/your/file.csv")

# Example 2: Handling Figma embeds and other viz types
# The function transforms Figma design links to prototype format, while other embeds (YouTube, etc.) remain unchanged.
panels <- create_panels_list("path/to/your/file.csv")
}
}
